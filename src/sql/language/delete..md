---
sidebarDepth: 2
title: Sentencia DELETE
position: 14
Autogenerated: true
---

# Sentencia DELETE

**Crono SQL** soporta la sintaxis estándar de la sentencia **DELETE** de SQL:

<div class="mt-1 mb-2 row">
  <div class="col-lg-12">

``` sql
DELETE FROM dwh.FactSalesOrderDetails WHERE SalesOrderId=43659
```

  <b-button class="float-right btn" size="sm" v-b-modal.modal-1 style="background-color: #3eaf7c">Ver SQL compilado</b-button>

  <b-modal id="modal-1" size="lg" title="Ver SQL compilado" :hide-footer="true" > 
``` sql
DELETE FROM dwh.FactSalesOrderDetails WHERE SalesOrderId=43659;
```
  </b-modal>

  </div>
</div>


Si intervienen otras tablas, se puede definir el predicado utilizando las expresiones **IN()** o **EXISTS ()**. La siguiente sentencia elimina las líneas de venta de un cliente en concreto:

<div class="mt-1 mb-2 row">
  <div class="col-lg-12">

``` sql
DELETE 
FROM dwh.FactSalesOrderDetails
WHERE SalesOrderSid in (
  SELECT SalesOrderSid
  FROM dwh.FactSalesOrderHeader
  INNER JOIN dwh.DimCustomers using FactSalesOrderHeader(CustomerSid)
  WHERE DimCustomers.Customer='Oscar Simmons')
```

  <b-button class="float-right btn" size="sm" v-b-modal.modal-2 style="background-color: #3eaf7c">Ver SQL compilado</b-button>

  <b-modal id="modal-2" size="lg" title="Ver SQL compilado" :hide-footer="true" > 
``` sql
DELETE FROM dwh.FactSalesOrderDetails WHERE EXISTS (SELECT 1 FROM (
    SELECT SalesOrderSid
    FROM dwh.FactSalesOrderHeader
    INNER JOIN dwh.DimCustomers ON (FactSalesOrderHeader.CustomerSid=DimCustomers.CustomerSid)
    WHERE DimCustomers.Customer='Oscar Simmons'
) subquery WHERE SalesOrderSid=subquery.SalesOrderSid);

```
  </b-modal>

  </div>
</div>


De modo similar, la siguiente sentencia elimina las líneas de venta de otro cliente:

<div class="mt-1 mb-2 row">
  <div class="col-lg-12">

``` sql
DELETE 
FROM dwh.FactSalesOrderDetails 
WHERE EXISTS (
  SELECT *  
  FROM dwh.FactSalesOrderHeader cab
  INNER JOIN dwh.DimCustomers using cab(CustomerSid)
  WHERE
    DimCustomers.Customer='Oscar Simmons'
    AND FactSalesOrderDetails.SalesOrderSid=cab.SalesOrderSid)
```

  <b-button class="float-right btn" size="sm" v-b-modal.modal-3 style="background-color: #3eaf7c">Ver SQL compilado</b-button>

  <b-modal id="modal-3" size="lg" title="Ver SQL compilado" :hide-footer="true" > 
``` sql
DELETE FROM dwh.FactSalesOrderDetails WHERE EXISTS (SELECT *
FROM dwh.FactSalesOrderHeader cab
INNER JOIN dwh.DimCustomers ON (cab.CustomerSid=DimCustomers.CustomerSid)
WHERE
  DimCustomers.Customer='Oscar Simmons'
  AND FactSalesOrderDetails.SalesOrderSid=cab.SalesOrderSid
);

```
  </b-modal>

  </div>
</div>


**Crono SQL** propone otra sintaxis de la sentencia **DELETE** (idéntica a la sintaxis de **INSERT**, **UPDATE**, y **MERGE**). La idea subyacente es que se ha  de construir el **SELECT** de los datos que se quieren borrar. Solo el **SELECT**. Y **Crono SQL** eliminará precisamente esos registros:

<div class="mt-1 mb-2 row">
  <div class="col-lg-12">

``` sql
DELETE dwh.FactSalesOrderDetails
select det.SalesOrderDetailSid #SalesOrderDetailSid, det.SalesOrderId, det.SalesOrderDetailsId
from dwh.FactSalesOrderDetails det
inner join dwh.FactSalesOrderHeader using SalesOrderSid
inner join dwh.DimCustomers using FactSalesOrderHeader(CustomerSid)
WHERE DimCustomers.Customer='Jada Morris'
```

  <b-button class="float-right btn" size="sm" v-b-modal.modal-4 style="background-color: #3eaf7c">Ver SQL compilado</b-button>

  <b-modal id="modal-4" size="lg" title="Ver SQL compilado" :hide-footer="true" > 
``` sql
;WITH
query AS (
  SELECT
    det.SalesOrderDetailSid AS SalesOrderDetailSid,
    det.SalesOrderId AS SalesOrderId,
    det.SalesOrderDetailsId AS SalesOrderDetailsId
  FROM dwh.FactSalesOrderDetails det
  INNER JOIN dwh.FactSalesOrderHeader ON (det.SalesOrderSid=FactSalesOrderHeader.SalesOrderSid)
  INNER JOIN dwh.DimCustomers ON (FactSalesOrderHeader.CustomerSid=DimCustomers.CustomerSid)
  WHERE DimCustomers.Customer='Jada Morris'
)
DELETE FROM dwh.FactSalesOrderDetails
WHERE
  EXISTS (SELECT 1 FROM query WHERE FactSalesOrderDetails.SalesOrderDetailSid=query.SalesOrderDetailSid);

```
  </b-modal>

  </div>
</div>


De hecho, no es necesario que la consulta tenga ninguna referencia a la tabla de la que se quieren eliminar registros. El ejemplo anterior se puede simplificar de la siguiente manera:

<div class="mt-1 mb-2 row">
  <div class="col-lg-12">

``` sql
DELETE dwh.FactSalesOrderDetails 	
SELECT #SalesOrderSid 
FROM dwh.FactSalesOrderHeader 
INNER JOIN dwh.DimCustomers using CustomerSid
WHERE
  DimCustomers.Customer='Katherine Turner'
```

  <b-button class="float-right btn" size="sm" v-b-modal.modal-5 style="background-color: #3eaf7c">Ver SQL compilado</b-button>

  <b-modal id="modal-5" size="lg" title="Ver SQL compilado" :hide-footer="true" > 
``` sql
;WITH
query AS (
  SELECT SalesOrderSid
  FROM dwh.FactSalesOrderHeader
  INNER JOIN dwh.DimCustomers ON (FactSalesOrderHeader.CustomerSid=DimCustomers.CustomerSid)
  WHERE DimCustomers.Customer='Katherine Turner'
)
DELETE FROM dwh.FactSalesOrderDetails
WHERE
  EXISTS (SELECT 1 FROM query WHERE FactSalesOrderDetails.SalesOrderSid=query.SalesOrderSid);

```
  </b-modal>

  </div>
</div>


En todos los casos, lo que marca los registros que se deben eliminar es la *"clave de eliminación"* (marcada con el **carácter #**).

La consulta del **DELETE** también puede utilizar todas las características del **SELECT** de **Crono SQL**. La siguiente sentencia elimina los clientes sin ninguna venta:

<div class="mt-1 mb-2 row">
  <div class="col-lg-12">

``` sql
DELETE dwh.DimCustomers
SELECT #customerSid
FROM dwh.DimCustomers
ANTI JOIN dwh.FactSalesOrderHeader USING CustomerSid
```

  <b-button class="float-right btn" size="sm" v-b-modal.modal-6 style="background-color: #3eaf7c">Ver SQL compilado</b-button>

  <b-modal id="modal-6" size="lg" title="Ver SQL compilado" :hide-footer="true" > 
``` sql
;WITH
query AS (
  SELECT customerSid
  FROM dwh.DimCustomers
  WHERE NOT EXISTS (SELECT 1 FROM dwh.FactSalesOrderHeader WHERE DimCustomers.CustomerSid=FactSalesOrderHeader.CustomerSid)
)
DELETE FROM dwh.DimCustomers
WHERE
  EXISTS (SELECT 1 FROM query WHERE DimCustomers.customerSid=query.customerSid);

```
  </b-modal>

  </div>
</div>
